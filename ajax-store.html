<!DOCTYPE html>
<html>
<head>
    <title>Online Store</title>

</head>
<body>

<h1>My Tool Store</h1>

<table id="products">
    <thead>
        <tr>
            <th>Title</th>
            <th>Quantity</th>
            <th>Categories</th>
            <th>Price</th>
        </tr>
    </thead>
    <tbody id="insertProducts"> <tr>
      </tbody>
</table>
<button id="update">Update</button>

<script src="js/jquery.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<script>
    "use strict";
    (function() {
        var url = "data/inventory.json";

        getInfo();

        function renderHTML(toolsArray){
            var HTML = "";
            $("#insertProducts").empty();

            toolsArray.forEach(function(tool){
                HTML = "<tr>" +
                    "            <td>"+tool.title+"</td>" +
                    "            <td>"+tool.quantity+"</td>" +
                    "            <td>$"+tool.price+"</td>" +
                    "            <td>"+tool.categories+"</td>" +
                    "        </tr>";
                $("#insertProducts").append(HTML);
            });

        }

        function getInfo(){
            $.get(url).done(function (data){
                renderHTML(data);
            }).fail(function (error){
                console.error(error);
            });
        }

        $("#update").click(function () {
            getInfo();
        });

    })();
// (function() {
//     "use strict";
//     // TODO: Create an ajax GET request for /data/inventory.json
//     $.ajax('data/inventory.json').done(function(data) {
//     // TODO: Take the data from inventory.json and append it to the products table
//
//         //       HINT: Your data should come back as a JSON object; use console.log() to inspect its contents and fields
//         console.log(data);
//         // Syntax - data[0].property
//         // OR data[0]["price"]
//
//         //       HINT: You will want to target #insertProducts for your new HTML elements
//         var titles = {};
//         var quantity = {};
//         var categories = {};
//         var price = {};
//         var HTML = "";
//
//         // for (var x = 0; x <= data.length; x++) {
//         //     titles = data[x].title;
//         //     quantity = data[x]["quantity"];
//         //     categories = data[x]["categories"];
//         //     price = data[x]["price"];
//         //     generatedHTML = "<tr>" + "<td>" + titles + "</td>"
//         //         + "<td>" + quantity + "</td>"
//         //         + "<td>" + categories + "</td>"
//         //         + "<td>" + price + "</td>" + "</tr>"
//         //         + $("#insertProducts").append(generatedHTML);
//         // console.log(x);
//         // }
//
//         data.forEach(function(ele){
//             titles = ele.title;
//             quantity = ele.quantity;
//             categories = ele.categories;
//             price = ele.price;
//             HTML = "<tr>"
//                     + "<td>" + titles + "</td>"
//                     + "<td>" + quantity + "</td>"
//                     + "<td>" + categories + "</td>"
//                     + "<td>" + price + "</td>"
//                         + "</tr>"
//                     + $("#insertProducts").append(HTML);
//             console.log(ele);
//
//         });
//     });
//
//
// })();
</script>

</body>
</html>
